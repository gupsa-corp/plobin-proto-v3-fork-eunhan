-- Phase 4: 샘플 프로젝트 데이터 시딩
-- 테스트 및 데모용 프로젝트 데이터 생성

-- 메인 프로젝트들 (부모 프로젝트)
INSERT INTO projects (name, description, status, progress, team_members, priority, start_date, end_date, estimated_hours, actual_hours, budget, client, category, dependencies, tags, created_date) VALUES
('웹사이트 리뉴얼 프로젝트', '기업 공식 웹사이트 전면 리뉴얼 및 모바일 최적화', 'in_progress', 65, 8, 'high', '2024-01-15', '2024-04-30', 800, 520, 15000000, '테크코리아', 'Web Development', '[]', '["웹개발", "리뉴얼", "모바일"]', '2024-01-15'),
('모바일 앱 개발', '고객 서비스용 모바일 애플리케이션 개발', 'in_progress', 42, 6, 'high', '2024-02-01', '2024-06-15', 1200, 504, 25000000, '디지털솔루션', 'Mobile Development', '[]', '["모바일", "앱개발", "고객서비스"]', '2024-02-01'),
('데이터베이스 마이그레이션', '레거시 시스템에서 신규 클라우드 DB로 이전', 'planned', 0, 4, 'medium', '2024-03-01', '2024-05-30', 600, 0, 8000000, '글로벌테크', 'Infrastructure', '[1]', '["데이터베이스", "마이그레이션", "클라우드"]', '2024-02-20'),
('AI 챗봇 구축', '고객 지원용 AI 챗봇 시스템 구축', 'on_hold', 25, 5, 'medium', '2024-01-10', '2024-03-31', 400, 100, 12000000, '스마트서비스', 'AI/ML', '[]', '["AI", "챗봇", "고객지원"]', '2024-01-10'),
('보안 시스템 강화', '전사 보안 시스템 점검 및 강화', 'completed', 100, 3, 'high', '2023-11-01', '2024-01-31', 300, 320, 6000000, '보안솔루션', 'Security', '[]', '["보안", "인프라", "컴플라이언스"]', '2023-11-01'),

-- 하위 프로젝트들 (웹사이트 리뉴얼의 세부 작업)
('UI/UX 디자인', '웹사이트 리뉴얼을 위한 UI/UX 디자인 작업', 'completed', 100, 3, 'high', '2024-01-15', '2024-02-28', 200, 180, 3000000, '테크코리아', 'Design', '[]', '["디자인", "UI", "UX"]', '2024-01-15'),
('프론트엔드 개발', '리뉴얼 웹사이트 프론트엔드 구현', 'in_progress', 80, 4, 'high', '2024-02-15', '2024-04-15', 400, 320, 6000000, '테크코리아', 'Web Development', '[6]', '["프론트엔드", "React", "반응형"]', '2024-02-15'),
('백엔드 API 개발', '웹사이트용 REST API 및 관리자 기능', 'in_progress', 70, 3, 'high', '2024-02-20', '2024-04-20', 300, 210, 4500000, '테크코리아', 'Web Development', '[6]', '["백엔드", "API", "데이터베이스"]', '2024-02-20'),
('성능 최적화', '웹사이트 로딩 속도 및 SEO 최적화', 'planned', 0, 2, 'medium', '2024-04-01', '2024-04-25', 80, 0, 1200000, '테크코리아', 'Optimization', '[7,8]', '["성능", "SEO", "최적화"]', '2024-03-01'),

-- 모바일 앱 개발 하위 작업들
('앱 기획 및 설계', '모바일 앱 요구사항 분석 및 설계', 'completed', 100, 2, 'high', '2024-02-01', '2024-02-20', 80, 75, 1500000, '디지털솔루션', 'Planning', '[]', '["기획", "설계", "요구사항"]', '2024-02-01'),
('iOS 앱 개발', 'iOS용 네이티브 앱 개발', 'in_progress', 45, 3, 'high', '2024-02-21', '2024-05-31', 500, 225, 8000000, '디지털솔루션', 'Mobile Development', '[10]', '["iOS", "Swift", "네이티브"]', '2024-02-21'),
('Android 앱 개발', 'Android용 네이티브 앱 개발', 'in_progress', 40, 3, 'high', '2024-02-21', '2024-05-31', 500, 200, 8000000, '디지털솔루션', 'Mobile Development', '[10]', '["Android", "Kotlin", "네이티브"]', '2024-02-21'),
('앱 테스트 및 배포', '앱스토어 배포 및 품질 보증 테스트', 'planned', 0, 2, 'medium', '2024-05-15', '2024-06-15', 120, 0, 2000000, '디지털솔루션', 'Testing', '[11,12]', '["테스트", "QA", "배포"]', '2024-04-01'),

-- 독립 프로젝트들
('마케팅 자동화 시스템', '이메일 및 소셜미디어 마케팅 자동화', 'in_progress', 60, 4, 'medium', '2024-01-20', '2024-04-10', 350, 210, 9000000, '마케팅프로', 'Marketing Tech', '[]', '["마케팅", "자동화", "이메일"]', '2024-01-20'),
('ERP 시스템 구축', '전사 자원 관리 시스템 구축 프로젝트', 'planned', 5, 7, 'high', '2024-04-01', '2024-09-30', 1500, 75, 35000000, '엔터프라이즈', 'Enterprise System', '[3]', '["ERP", "관리시스템", "통합"]', '2024-03-15'),
('블록체인 연동 시스템', '암호화폐 결제 연동 및 블록체인 기술 적용', 'on_hold', 15, 3, 'low', '2024-02-15', '2024-07-31', 800, 120, 18000000, '핀테크솔루션', 'Blockchain', '[]', '["블록체인", "암호화폐", "결제"]', '2024-02-15'),
('데이터 분석 대시보드', '비즈니스 인텔리전스 및 데이터 시각화', 'completed', 100, 5, 'medium', '2023-10-01', '2024-01-15', 450, 425, 11000000, '데이터인사이트', 'Data Analytics', '[]', '["데이터", "대시보드", "BI"]', '2023-10-01'),
('클라우드 인프라 구축', 'AWS 기반 클라우드 인프라 설계 및 구축', 'in_progress', 75, 4, 'high', '2024-01-01', '2024-03-31', 300, 225, 7500000, '클라우드테크', 'Infrastructure', '[]', '["클라우드", "AWS", "인프라"]', '2024-01-01'),
('IoT 센서 네트워크', '스마트 빌딩용 IoT 센서 및 제어 시스템', 'planned', 0, 6, 'medium', '2024-05-01', '2024-08-31', 600, 0, 14000000, '스마트빌딩', 'IoT', '[18]', '["IoT", "센서", "스마트홈"]', '2024-04-01'),
('고객 관계 관리 시스템', 'CRM 시스템 커스터마이징 및 통합', 'in_progress', 35, 4, 'medium', '2024-02-10', '2024-05-20', 400, 140, 10000000, 'CRM솔루션', 'Customer Management', '[]', '["CRM", "고객관리", "통합"]', '2024-02-10');

-- 부모-자식 관계 설정 (하위 프로젝트들)
UPDATE projects SET parent_id = 1 WHERE id IN (6, 7, 8, 9); -- 웹사이트 리뉴얼 하위 작업들
UPDATE projects SET parent_id = 2 WHERE id IN (10, 11, 12, 13); -- 모바일 앱 개발 하위 작업들

-- 추가 커스텀 데이터 예시 (동적 컬럼 시스템 테스트)
INSERT INTO project_custom_data (project_id, column_name, column_value) VALUES
(1, 'risk_level', 'medium'),
(2, 'risk_level', 'high'),
(3, 'risk_level', 'low'),
(1, 'external_dependencies', '["도메인 이전", "콘텐츠 마이그레이션"]'),
(2, 'external_dependencies', '["앱스토어 승인", "결제 시스템 연동"]'),
(14, 'marketing_channel', 'Digital Marketing'),
(15, 'compliance_required', 'true'),
(17, 'data_sources', '["Google Analytics", "CRM", "ERP"]');

-- 확인용 쿼리들
SELECT '샘플 프로젝트 데이터가 성공적으로 삽입되었습니다.' as message;

-- 전체 프로젝트 수 확인
SELECT COUNT(*) as total_projects FROM projects;

-- 상태별 프로젝트 수
SELECT status, COUNT(*) as count FROM projects GROUP BY status;

-- 우선순위별 프로젝트 수
SELECT priority, COUNT(*) as count FROM projects GROUP BY priority;